<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚öú Beget Mail Generator ‚öú</title>
    <!-- Gothic Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=EB+Garamond:wght@400;600&family=UnifrakturMaguntia&display=swap" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="gothic-container">
        <!-- Header -->
        <header class="gothic-header">
            <h1>‚öú Mail Codex ‚öú</h1>
            <p class="subtitle">–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–æ—á—Ç–æ–≤—ã—Ö —è—â–∏–∫–æ–≤ Beget</p>
            <div class="connection-badge" id="connectionStatus">
                <span class="status-dot"></span>
                <span class="status-text">–ü—Ä–æ–≤–µ—Ä–∫–∞...</span>
            </div>
        </header>

        <div class="divider"></div>

        <!-- Alerts container -->
        <div id="alertsContainer"></div>

        <!-- Main content -->
        <div class="main-grid">
            <!-- Left column - Generation form -->
            <div class="left-column">
                <!-- Generation Card -->
                <div class="gothic-card">
                    <div class="card-header">
                        <span class="header-icon">‚ú†</span>
                        –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø–æ—á—Ç–æ–≤—ã—Ö —è—â–∏–∫–æ–≤
                    </div>
                    <div class="card-body">
                        <form id="generateForm">
                            <div class="form-group">
                                <label for="domainSelect">
                                    <i class="bi bi-globe"></i>
                                    –î–æ–º–µ–Ω
                                </label>
                                <select class="gothic-select" id="domainSelect" required>
                                    <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –¥–æ–º–µ–Ω–æ–≤...</option>
                                </select>
                                <span class="form-hint">–í—ã–±–µ—Ä–∏—Ç–µ –¥–æ–º–µ–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ—á—Ç</span>
                            </div>
                            <div class="form-group">
                                <label for="countInput">
                                    <i class="bi bi-123"></i>
                                    –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—á—Ç
                                </label>
                                <input type="number" class="gothic-input" id="countInput" 
                                       min="1" max="50" value="10" required>
                                <span class="form-hint">–ú–∞–∫—Å–∏–º—É–º 50 –∑–∞ –æ–¥–∏–Ω —Ä–∞–∑</span>
                            </div>
                            <button type="submit" class="gothic-btn gothic-btn-primary" id="generateBtn">
                                ‚öî –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å
                            </button>
                        </form>

                        <!-- Progress -->
                        <div id="progressContainer" class="progress-container d-none">
                            <div class="gothic-progress">
                                <div id="progressBar" class="gothic-progress-bar" style="width: 0%"></div>
                            </div>
                            <p class="progress-text" id="progressText">–°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—á—Ç–æ–≤—ã—Ö —è—â–∏–∫–æ–≤...</p>
                        </div>
                    </div>
                </div>

                <!-- Stats Card -->
                <div class="gothic-card">
                    <div class="card-header">
                        <span class="header-icon">‚òΩ</span>
                        –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
                    </div>
                    <div class="card-body">
                        <div class="stats-grid">
                            <div class="stat-item">
                                <div class="stat-number" id="totalCreated">0</div>
                                <div class="stat-label">–°–æ–∑–¥–∞–Ω–æ –≤—Å–µ–≥–æ</div>
                            </div>
                            <div class="stat-item">
                                <div class="stat-number" id="todayCreated">0</div>
                                <div class="stat-label">–°–µ–≥–æ–¥–Ω—è</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Actions Card -->
                <div class="gothic-card">
                    <div class="card-header">
                        <span class="header-icon">‚öô</span>
                        –î–µ–π—Å—Ç–≤–∏—è
                    </div>
                    <div class="card-body actions-body">
                        <button class="gothic-btn gothic-btn-secondary" id="refreshDomainsBtn">
                            <i class="bi bi-arrow-clockwise"></i>
                            –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–º–µ–Ω—ã
                        </button>
                        <button class="gothic-btn gothic-btn-secondary" id="loadBegetMailboxesBtn">
                            <i class="bi bi-cloud-download"></i>
                            –ó–∞–≥—Ä—É–∑–∏—Ç—å —Å Beget
                        </button>
                        <button class="gothic-btn gothic-btn-secondary" id="exportAllBtn">
                            <i class="bi bi-download"></i>
                            –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö
                        </button>
                    </div>
                </div>
            </div>

            <!-- Right column - Mailboxes table -->
            <div class="right-column">
                <div class="gothic-card">
                    <div class="card-header card-header-dark">
                        <span>
                            <span class="header-icon">üìú</span>
                            –°–æ–∑–¥–∞–Ω–Ω—ã–µ –ø–æ—á—Ç–æ–≤—ã–µ —è—â–∏–∫–∏
                        </span>
                        <div class="header-actions">
                            <button class="gothic-btn-icon" id="selectAllBtn" title="–í—ã–±—Ä–∞—Ç—å –≤—Å–µ">
                                <i class="bi bi-check-all"></i>
                            </button>
                            <button class="gothic-btn-icon gothic-btn-danger" id="deleteSelectedBtn" disabled title="–£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ">
                                <i class="bi bi-trash"></i>
                            </button>
                            <button class="gothic-btn-icon gothic-btn-success" id="copySelectedBtn" disabled title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å">
                                <i class="bi bi-clipboard"></i>
                            </button>
                        </div>
                    </div>
                    <div class="card-body p-0">
                        <!-- Filter -->
                        <div class="filter-bar">
                            <select class="gothic-select gothic-select-sm" id="filterDomain">
                                <option value="">–í—Å–µ –¥–æ–º–µ–Ω—ã</option>
                            </select>
                            <input type="text" class="gothic-input gothic-input-sm" 
                                   id="searchInput" placeholder="–ü–æ–∏—Å–∫ –ø–æ email...">
                            <span class="filter-count">
                                –ü–æ–∫–∞–∑–∞–Ω–æ: <span id="shownCount">0</span> –∏–∑ <span id="totalCount">0</span>
                            </span>
                        </div>

                        <!-- Table -->
                        <div class="table-wrapper">
                            <table class="gothic-table">
                                <thead>
                                    <tr>
                                        <th class="th-checkbox">
                                            <input type="checkbox" class="gothic-checkbox" id="checkAll">
                                        </th>
                                        <th>Email</th>
                                        <th>–ü–∞—Ä–æ–ª—å</th>
                                        <th>–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è</th>
                                        <th class="th-actions">–î–µ–π—Å—Ç–≤–∏—è</th>
                                    </tr>
                                </thead>
                                <tbody id="mailboxesTable">
                                    <tr>
                                        <td colspan="5" class="empty-state">
                                            <div class="empty-icon">üìú</div>
                                            <p>–ù–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –ø–æ—á—Ç–æ–≤—ã—Ö —è—â–∏–∫–æ–≤</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Last generation results -->
                <div class="gothic-card" id="lastResultsCard" style="display: none;">
                    <div class="card-header card-header-success">
                        <span>
                            <span class="header-icon">‚úì</span>
                            –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
                        </span>
                        <button class="gothic-btn-icon gothic-btn-light" id="copyLastResultsBtn" title="–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ">
                            <i class="bi bi-clipboard"></i>
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="results-stats">
                            <div class="result-success">
                                <i class="bi bi-check-circle"></i>
                                –£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ: <strong id="lastSuccessCount">0</strong>
                            </div>
                            <div class="result-error">
                                <i class="bi bi-x-circle"></i>
                                –û—à–∏–±–æ–∫: <strong id="lastErrorCount">0</strong>
                            </div>
                        </div>
                        <textarea class="gothic-textarea" id="lastResultsText" 
                                  rows="5" readonly placeholder="email:password"></textarea>
                    </div>
                </div>
            </div>
        </div>

        <div class="ornament">‚ú† ‚ú† ‚ú†</div>

        <!-- Footer -->
        <footer class="gothic-footer">
            <span class="footer-icon">‚öú</span>
            Beget Mail Generator v1.0 | 
            <a href="https://beget.com/ru/kb/api/funkczii-dlya-raboty-s-pochtoj" target="_blank">
                –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è Beget API
            </a>
        </footer>
    </div>

    <!-- Delete confirmation modal -->
    <div class="gothic-modal" id="deleteModal">
        <div class="modal-overlay"></div>
        <div class="modal-content">
            <div class="modal-header">
                <span class="header-icon">‚ö†</span>
                –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
            </div>
            <div class="modal-body">
                <p>–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ –ø–æ—á—Ç–æ–≤—ã–µ —è—â–∏–∫–∏?</p>
                <p class="warning-text"><strong>–í–Ω–∏–º–∞–Ω–∏–µ:</strong> –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ!</p>
                <p>–ë—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ: <strong id="deleteCount">0</strong> —è—â–∏–∫–æ–≤</p>
            </div>
            <div class="modal-footer">
                <button class="gothic-btn gothic-btn-secondary" id="cancelDeleteBtn">–û—Ç–º–µ–Ω–∞</button>
                <button class="gothic-btn gothic-btn-danger" id="confirmDeleteBtn">
                    <i class="bi bi-trash"></i>
                    –£–¥–∞–ª–∏—Ç—å
                </button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
